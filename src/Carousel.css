/* Стили для карусели из Codepen */
.carousel {
  position: relative;
  width: 34.5rem; /* 23rem * 1.5 */
  height: 38rem; /* Увеличена высота */
  perspective: 500px;
  transform-style: preserve-3d;
  margin: 2rem auto;
}

.card-container {
  position: absolute;
  width: 100%;
  height: 100%;
  transform: 
    rotateY(calc(var(--offset) * 50deg)) 
    scaleY(calc(1 + var(--abs-offset) * -0.4))
    translateZ(calc(var(--abs-offset) * -30rem))
    translateX(calc(var(--direction) * -5rem));
  filter: blur(calc(var(--abs-offset) * 0.5rem));
  transition: all 0.3s ease-out;
  will-change: transform, filter, opacity; /* Оптимизация для мобильных */
  z-index: calc(10 - var(--abs-offset) * 10); /* Корректный z-index */
}

.card {
  width: 100%;
  height: 100%;
  padding: 1.5rem;
  background-color: hsl(280, 40%, calc(100% - var(--abs-offset) * 50%));
  border-radius: 1rem;
  color: #9CA3AF;
  text-align: center;
  transition: all 0.3s ease-out;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.card img {
  width: 100%;
  height: 75%; /* Увеличена высота изображения */
  object-fit: cover;
  border-radius: 0.5rem;
  margin-bottom: 1rem;
}

.card h2 {
  font-size: 1.5rem;
  font-weight: bold;
  margin: 0 0 0.5em;
  color: #1F2937;
}

.card p {
  margin: 0.2rem 0;
  font-size: 0.9rem;
}

.card .price {
  font-weight: bold;
  color: #8B5CF6;
  margin-top: 0.5rem;
}

.card h2, 
.card p, 
.card .price {
  transition: all 0.3s ease-out;
  opacity: var(--active);
}

.nav {
  color: white;
  font-size: 3.5rem; /* Увеличено */
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  top: 50%;
  z-index: 2;
  cursor: pointer;
  user-select: none;
  background: unset;
  border: unset;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.3);
  border-radius: 50%;
  width: 70px; /* Увеличено */
  height: 70px; /* Увеличено */
}

.nav:hover {
  background: rgba(0,0,0,0.5);
}

.nav.left {
  left: -80px; /* Увеличено */
}

.nav.right {
  right: -80px; /* Увеличено */
}

/* Адаптация для мобильных устройств */
@media (max-width: 768px) {
  .carousel {
    width: 100%;
    height: 30rem; /* Увеличена высота */
    perspective: 300px;
    margin: 1rem auto;
    position: relative;
    overflow: hidden; /* Добавлено для скрытия вылезающих элементов */
  }

  .card-container {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .card {
    padding: 1rem;
    width: 90%; /* Уменьшена ширина */
    margin: 0 auto;
    box-sizing: border-box;
  }

  .card img {
    height: 50%; /* Уменьшена высота изображения */
  }

  .card h2 {
    font-size: 1.2rem;
  }

  .card p {
    font-size: 0.8rem;
  }

  .card .price {
    font-size: 0.9rem;
  }

  .nav {
    font-size: 2rem;
    width: 50px;
    height: 50px;
  }

  .nav.left {
    left: 5px; /* Уменьшено расстояние от края */
  }

  .nav.right {
    right: 5px; /* Уменьшено расстояние от края */
  }
}
